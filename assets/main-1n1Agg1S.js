import{i as p,g as y,a as L,c as h,u as v,s as S,b as M,o as w}from"./vendor-BzXVXbKg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=i(o);fetch(o.href,s)}})();const q={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0},c=p(q);y(c);const d=L(c),E=async(r,t,i)=>{try{const o=(await h(d,r,t)).user;return await v(o,{displayName:i}),console.log("User registered and profile updated:",o),o}catch(n){const o=n.code,s=n.message;throw console.error(`Error ${o}: ${s}`),n}},I=async(r,t)=>{try{return(await S(d,r,t)).user}catch(i){const n=i.code,o=i.message;throw console.error(`Error ${n}: ${o}`),i}},O=()=>{M(d).then(()=>{console.log("signOut")}).catch(r=>{console.error("Sign out error:",r)})},u=r=>{w(d,t=>{t?(t.displayName,r(t)):r(null)})},e={backgroundModal:document.querySelector(".modal"),formLoginModal:document.querySelector(".form-login-modal"),formLoginCloseBtn:document.querySelector(".form-login-close-btn"),formLoginOpen:document.querySelector(".auth-item-login"),formRegisterOpen:document.querySelector(".auth-item-register"),formRegisterModal:document.querySelector(".form-register-modal"),formRegisterCloseBtn:document.querySelector(".form-register-close-btn"),formRegister:document.querySelector(".form-registration"),formLogin:document.querySelector(".form-login"),registerNameInput:document.querySelector(".form-name-input-register-js"),registerEmailInput:document.querySelector(".form-email-input-register-js"),registerPasswordInput:document.querySelector(".form-password-input-register-js"),loginEmailInput:document.querySelector(".form-email-input-login-js"),loginPasswordInput:document.querySelector(".form-password-input-login-js"),authBtn:document.querySelector(".auth-wrapper"),userInfo:document.querySelector(".user-info"),userName:document.querySelector(".user-name"),signOutBtn:document.querySelector(".user-logout"),navList:document.querySelector(".nav-list")},m=r=>{r.keyCode===27&&(a(e.formLoginModal),a(e.formRegisterModal))},f=r=>{r.classList.remove("is-hidden-modal"),e.backgroundModal.classList.remove("is-hidden-modal"),document.addEventListener("keydown",m)},a=r=>{r.classList.add("is-hidden-modal"),e.backgroundModal.classList.add("is-hidden-modal"),document.removeEventListener("keydown",m)};e.formLoginOpen&&e.formLoginOpen.addEventListener("click",()=>{f(e.formLoginModal)});e.formLoginCloseBtn&&e.formLoginCloseBtn.addEventListener("click",()=>{a(e.formLoginModal)});e.formRegisterOpen&&e.formRegisterOpen.addEventListener("click",()=>{f(e.formRegisterModal)});e.formRegisterCloseBtn&&e.formRegisterCloseBtn.addEventListener("click",()=>{a(e.formRegisterModal)});e.backgroundModal&&e.backgroundModal.addEventListener("click",r=>{r.target===e.backgroundModal&&(a(e.formLoginModal),a(e.formRegisterModal))});e.formRegister&&e.formRegister.addEventListener("submit",async r=>{r.preventDefault();const t=e.registerEmailInput.value,i=e.registerPasswordInput.value,n=e.registerNameInput.value;try{await E(t,i,n),u(g),a(e.formRegisterModal)}catch(o){alert("Registration failed"),console.error("Registration failed:",o)}});e.formLogin&&e.formLogin.addEventListener("submit",async r=>{r.preventDefault();const t=e.loginEmailInput.value,i=e.loginPasswordInput.value;try{await I(t,i),a(e.formLoginModal)}catch(n){alert("Login failed"),console.error("Login failed:",n)}});const g=r=>{if(r)if(r.displayName)e.userInfo.style.display="flex",e.userName.textContent=r.displayName,e.authBtn.classList.add("is-hidden");else return;else e.userInfo.style.display="none",e.userName.textContent="",e.authBtn.classList.remove("is-hidden")};e.signOutBtn&&e.signOutBtn.addEventListener("click",()=>{O()});u(g);
//# sourceMappingURL=main-1n1Agg1S.js.map
