import{i as b,g as E,c as w,u as M,s as I,a as O,o as P,b as C,q as g,d as p,e as f,f as B,l as h,h as R}from"./vendor-DQ13VRau.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();const e={backgroundModal:document.querySelector(".modal"),formLoginModal:document.querySelector(".form-login-modal"),formLoginCloseBtn:document.querySelector(".form-login-close-btn"),formLoginOpen:document.querySelector(".auth-item-login"),formRegisterOpen:document.querySelector(".auth-item-register"),formRegisterModal:document.querySelector(".form-register-modal"),formRegisterCloseBtn:document.querySelector(".form-register-close-btn"),formRegister:document.querySelector(".form-registration"),formLogin:document.querySelector(".form-login"),registerNameInput:document.querySelector(".form-name-input-register-js"),registerEmailInput:document.querySelector(".form-email-input-register-js"),registerPasswordInput:document.querySelector(".form-password-input-register-js"),loginEmailInput:document.querySelector(".form-email-input-login-js"),loginPasswordInput:document.querySelector(".form-password-input-login-js"),authBtn:document.querySelector(".auth-wrapper"),userInfo:document.querySelector(".user-info"),userName:document.querySelector(".user-name"),signOutBtn:document.querySelector(".user-logout"),navList:document.querySelector(".nav-list"),navHome:document.querySelector(".nav-home"),navPsychologists:document.querySelector(".nav-psychologist"),navFavorites:document.querySelector(".nav-favorites"),pageFavorites:document.querySelector(".nav-list-item-favorites"),sortPsichologs:document.querySelector(".sort-psichologs"),customSelectTrigger:document.querySelector(".custom-select-trigger"),customOption:document.querySelectorAll(".custom-option"),customSelect:document.querySelector(".custom-select"),paginationBtn:document.querySelector(".pagination-prev"),customSelect:document.querySelector(".custom-select"),customSelectTrigger:document.querySelector(".custom-select-trigger"),customOption:document.querySelectorAll(".custom-option"),loaderWraper:document.querySelector(".loader-wrapper")},k={apiKey:"AIzaSyBtgyesIcDyvFIh-YBM6E33MhgPDKypzII",authDomain:"psychologistsservices.firebaseapp.com",databaseURL:"https://psychologistsservices-default-rtdb.firebaseio.com",projectId:"psychologistsservices",storageBucket:"psychologistsservices.firebasestorage.app",messagingSenderId:"718750248328",appId:"1:718750248328:web:573026e49e9fc425809e3d",measurementId:"G-5J9TZ4E4D9"},D=b(k),d=E(D),A=async(t,o,s)=>{try{const i=(await w(d,t,o)).user;return await M(i,{displayName:s}),console.log("User registered and profile updated:",i),i}catch(r){const i=r.code,a=r.message;throw console.error(`Error ${i}: ${a}`),r}},z=async(t,o)=>{try{return(await I(d,t,o)).user}catch(s){const r=s.code,i=s.message;throw console.error(`Error ${r}: ${i}`),s}},F=()=>{O(d).then(()=>{console.log("signOut")}).catch(t=>{console.error("Sign out error:",t)})},v=t=>{P(d,o=>{o?(o.displayName,t(o)):t(null)})};e.signOutBtn&&e.signOutBtn.addEventListener("click",()=>{F()});const L=t=>{if(t)if(t.displayName)e.userInfo.style.display="flex",e.userName.textContent=t.displayName,e.authBtn.classList.add("is-hidden"),e.pageFavorites.classList.remove("is-hidden");else return;else e.userInfo.style.display="none",e.userName.textContent="",e.authBtn.classList.remove("is-hidden-modal"),e.authBtn.classList.remove("is-hidden"),e.pageFavorites.classList.add("is-hidden")};v(L);const S=t=>{t.keyCode===27&&N()},q=t=>{t.classList.remove("is-hidden-modal"),e.backgroundModal.classList.remove("is-hidden-modal"),document.addEventListener("keydown",S)},c=t=>{t.classList.add("is-hidden-modal"),e.backgroundModal.classList.add("is-hidden-modal"),document.removeEventListener("keydown",S),v(L)},N=()=>{c(e.formLoginModal),c(e.formRegisterModal)};e.formLoginOpen&&e.formLoginOpen.addEventListener("click",()=>{q(e.formLoginModal)});e.formLoginCloseBtn&&e.formLoginCloseBtn.addEventListener("click",()=>{c(e.formLoginModal)});e.formRegisterOpen&&e.formRegisterOpen.addEventListener("click",()=>{q(e.formRegisterModal)});e.formRegisterCloseBtn&&e.formRegisterCloseBtn.addEventListener("click",()=>{c(e.formRegisterModal)});e.backgroundModal&&e.backgroundModal.addEventListener("click",t=>{t.target===e.backgroundModal&&(c(e.formLoginModal),c(e.formRegisterModal))});e.formRegister&&e.formRegister.addEventListener("submit",async t=>{t.preventDefault();const o=e.registerEmailInput.value,s=e.registerPasswordInput.value,r=e.registerNameInput.value;try{await A(o,s,r),c(e.formRegisterModal)}catch(i){alert("Registration failed"),console.error("Registration failed:",i)}});e.formLogin&&e.formLogin.addEventListener("submit",async t=>{t.preventDefault();const o=e.loginEmailInput.value,s=e.loginPasswordInput.value;try{await z(o,s),c(e.formLoginModal)}catch(r){alert("Login failed"),console.error("Login failed:",r)}});const y=C(),n={field:"name",order:"asc",limit:3,lastVisibleDoc:null,isPaginationFinished:!1};let l=[];const $=()=>{e.paginationBtn.classList.remove("is-hidden"),e.loaderWraper.classList.add("is-hidden")},x=()=>{e.paginationBtn.classList.add("is-hidden"),e.loaderWraper.classList.remove("is-hidden")},m=async()=>{try{if(console.log(n.field),console.log(n.order),x(),n.isPaginationFinished)return;const t=n.lastVisibleDoc?g(p(y,"psychologists"),f(n.field,n.order),B(n.lastVisibleDoc),h(n.limit)):g(p(y,"psychologists"),f(n.field,n.order),h(n.limit)),o=await R(t);if(o.size===0)n.isPaginationFinished=!0;else{n.lastVisibleDoc=o.docs[o.docs.length-1];const s=o.docs.map(r=>({id:r.id,...r.data()}));l=l.concat(s),T(l)}}catch(t){console.error("Error fetching data:",t)}finally{$()}},T=t=>{const o=document.querySelector(".psicholog-list");o.innerHTML="",t.forEach(s=>{const r=document.createElement("li");r.classList.add("psicholog-list-item"),r.innerHTML=`
      <div>
        <img src="${s.avatar_url}" alt="psychologist" class="psicholog-img" width="96px" height="96px">
      </div>
      <div class="psicholog-info">
        <p class="psicholog-title">Psychologist</p>
        <h3 class="psicholog-name">${s.name}</h3>
        <ul class="psicholog-specialization">
          <li class="psicholog-specialization-item">Experience: <span>${s.experience}</span></li>
          <li class="psicholog-specialization-item">License: <span>${s.license}</span></li>
          <li class="psicholog-specialization-item">Specialization: <span>${s.specialization}</span></li>
          <li class="psicholog-specialization-item">Initial consultation: <span>${s.initial_consultation}</span></li>
        </ul>
        <p class="psicholog-description">${s.about}</p>
        <button class="psicholog-btn">Read more</button>
        <div class="psicholog-rating-price-wrapper">
          <div class="psicholog-rating">Rating: <span>${s.rating}</span></div>
          <div class="psicholog-rating-line"></div>
          <div class="psicholog-price">Price / 1 hour: <span>${s.price_per_hour}</span></div>
          <button><img class="psicholog-favorite-btn" src="img/heart.svg" alt="favorite"></button>
        </div>
      </div>
    `,o.appendChild(r)})},_=t=>{console.log(t);const o={"a-z":{field:"name",order:"asc"},"z-a":{field:"name",order:"desc"},"less-than-10":{field:"price_per_hour",order:"asc"},"greater-than-10":{field:"price_per_hour",order:"desc"},popular:{field:"rating",order:"desc"},"not-popular":{field:"rating",order:"asc"}};if(o[t]){const{field:s,order:r}=o[t];n.field=s,n.order=r,n.lastVisibleDoc=null,n.isPaginationFinished=!1,l=[],m()}};e.customSelectTrigger&&(e.customSelectTrigger.addEventListener("click",function(){e.customSelect.classList.toggle("open")}),e.customOption.forEach(t=>{t.addEventListener("click",function(){e.customSelectTrigger.textContent=this.textContent,e.customOption.forEach(o=>o.classList.remove("custom-select-active")),this.classList.add("custom-select-active"),_(this.dataset.value),e.customSelect.classList.remove("open")})}),document.addEventListener("click",t=>{e.customSelect.contains(t.target)||e.customSelect.classList.remove("open")}));console.log(e.paginationBtn);document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".pagination-prev");t&&t.addEventListener("click",()=>{n.isPaginationFinished||m()})});m();switch(window.location.pathname){case"/psychologists.services/index.html":e.navHome.classList.add("nav-list-item-active");break;case"/psychologists.services/psychologists.html":e.navPsychologists.classList.add("nav-list-item-active");break;case"/psychologists.services/favorites.html":e.navFavorites.classList.add("nav-list-item-active");break}
//# sourceMappingURL=main-qgLTU77J.js.map
