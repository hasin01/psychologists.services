import{i as f,g as p,c as y,u as h,s as v,a as L,o as S}from"./vendor-Bm6xMpv4.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}})();const q={apiKey:"AIzaSyBtgyesIcDyvFIh-YBM6E33MhgPDKypzII",authDomain:"psychologistsservices.firebaseapp.com",databaseURL:"https://psychologistsservices-default-rtdb.firebaseio.com",projectId:"psychologistsservices",storageBucket:"psychologistsservices.firebasestorage.app",messagingSenderId:"718750248328",appId:"1:718750248328:web:573026e49e9fc425809e3d",measurementId:"G-5J9TZ4E4D9"},w=f(q),c=p(w),e={backgroundModal:document.querySelector(".modal"),formLoginModal:document.querySelector(".form-login-modal"),formLoginCloseBtn:document.querySelector(".form-login-close-btn"),formLoginOpen:document.querySelector(".auth-item-login"),formRegisterOpen:document.querySelector(".auth-item-register"),formRegisterModal:document.querySelector(".form-register-modal"),formRegisterCloseBtn:document.querySelector(".form-register-close-btn"),formRegister:document.querySelector(".form-registration"),formLogin:document.querySelector(".form-login"),registerNameInput:document.querySelector(".form-name-input-register-js"),registerEmailInput:document.querySelector(".form-email-input-register-js"),registerPasswordInput:document.querySelector(".form-password-input-register-js"),loginEmailInput:document.querySelector(".form-email-input-login-js"),loginPasswordInput:document.querySelector(".form-password-input-login-js"),authBtn:document.querySelector(".auth-wrapper"),userInfo:document.querySelector(".user-info"),userName:document.querySelector(".user-name"),signOutBtn:document.querySelector(".user-logout"),navList:document.querySelector(".nav-list"),navHome:document.querySelector(".nav-home"),navPsychologists:document.querySelector(".nav-psychologist"),navFavorites:document.querySelector(".nav-favorites"),pageFavorites:document.querySelector(".nav-list-item-favorites"),sortPsichologs:document.querySelector(".sort-psichologs"),customSelectTrigger:document.querySelector(".custom-select-trigger"),customOption:document.querySelectorAll(".custom-option"),customSelect:document.querySelector(".custom-select")},M=async(o,r,n)=>{try{const t=(await y(c,o,r)).user;return await h(t,{displayName:n}),console.log("User registered and profile updated:",t),t}catch(s){const t=s.code,i=s.message;throw console.error(`Error ${t}: ${i}`),s}},b=async(o,r)=>{try{return(await v(c,o,r)).user}catch(n){const s=n.code,t=n.message;throw console.error(`Error ${s}: ${t}`),n}},I=()=>{L(c).then(()=>{console.log("signOut")}).catch(o=>{console.error("Sign out error:",o)})},d=o=>{S(c,r=>{r?(r.displayName,o(r)):o(null)})};e.signOutBtn&&e.signOutBtn.addEventListener("click",()=>{I()});const u=o=>{if(o)if(o.displayName)e.userInfo.style.display="flex",e.userName.textContent=o.displayName,e.authBtn.classList.add("is-hidden"),e.pageFavorites.classList.remove("is-hidden");else return;else e.userInfo.style.display="none",e.userName.textContent="",e.authBtn.classList.remove("is-hidden-modal"),e.authBtn.classList.remove("is-hidden"),e.pageFavorites.classList.add("is-hidden")};d(u);const m=o=>{o.keyCode===27&&E()},g=o=>{o.classList.remove("is-hidden-modal"),e.backgroundModal.classList.remove("is-hidden-modal"),document.addEventListener("keydown",m)},a=o=>{o.classList.add("is-hidden-modal"),e.backgroundModal.classList.add("is-hidden-modal"),document.removeEventListener("keydown",m),d(u)},E=()=>{a(e.formLoginModal),a(e.formRegisterModal)};e.formLoginOpen&&e.formLoginOpen.addEventListener("click",()=>{g(e.formLoginModal)});e.formLoginCloseBtn&&e.formLoginCloseBtn.addEventListener("click",()=>{a(e.formLoginModal)});e.formRegisterOpen&&e.formRegisterOpen.addEventListener("click",()=>{g(e.formRegisterModal)});e.formRegisterCloseBtn&&e.formRegisterCloseBtn.addEventListener("click",()=>{a(e.formRegisterModal)});e.backgroundModal&&e.backgroundModal.addEventListener("click",o=>{o.target===e.backgroundModal&&(a(e.formLoginModal),a(e.formRegisterModal))});e.formRegister&&e.formRegister.addEventListener("submit",async o=>{o.preventDefault();const r=e.registerEmailInput.value,n=e.registerPasswordInput.value,s=e.registerNameInput.value;try{await M(r,n,s),a(e.formRegisterModal)}catch(t){alert("Registration failed"),console.error("Registration failed:",t)}});e.formLogin&&e.formLogin.addEventListener("submit",async o=>{o.preventDefault();const r=e.loginEmailInput.value,n=e.loginPasswordInput.value;try{await b(r,n),a(e.formLoginModal)}catch(s){alert("Login failed"),console.error("Login failed:",s)}});switch(window.location.pathname){case"/psychologists.services/index.html":e.navHome.classList.add("nav-list-item-active");break;case"/psychologists.services/psychologists.html":e.navPsychologists.classList.add("nav-list-item-active");break;case"/psychologists.services/favorites.html":e.navFavorites.classList.add("nav-list-item-active");break}
//# sourceMappingURL=main-fhzOjTGX.js.map
