{"version":3,"file":"main-NdYbOpFt.js","sources":["../../src/js/refs.js","../../src/js/firebase.js","../../src/js/auth.js","../../src/js/modal.js","../../src/img/heart.svg","../../src/img/heart-favorite.svg","../../src/js/psycholog-sort.js","../../src/js/favorite.js","../../src/main.js"],"sourcesContent":["const refs = {\n  backgroundModal: document.querySelector(\".modal\"),\n  formLoginModal: document.querySelector(\".form-login-modal\"),\n  formLoginCloseBtn: document.querySelector(\".form-login-close-btn\"),\n  formLoginOpen: document.querySelector(\".auth-item-login\"),\n  formRegisterOpen: document.querySelector(\".auth-item-register\"),\n  formRegisterModal: document.querySelector(\".form-register-modal\"),\n  formRegisterCloseBtn: document.querySelector(\".form-register-close-btn\"),\n  formRegister: document.querySelector(\".form-registration\"),\n  formLogin: document.querySelector(\".form-login\"),\n  registerNameInput: document.querySelector(\".form-name-input-register-js\"),\n  registerEmailInput: document.querySelector(\".form-email-input-register-js\"),\n  registerPasswordInput: document.querySelector(\n    \".form-password-input-register-js\"\n  ),\n  loginEmailInput: document.querySelector(\".form-email-input-login-js\"),\n  loginPasswordInput: document.querySelector(\".form-password-input-login-js\"),\n  authBtn: document.querySelector(\".auth-wrapper\"),\n  userInfo: document.querySelector(\".user-info\"),\n  userName: document.querySelector(\".user-name\"),\n  signOutBtn: document.querySelector(\".user-logout\"),\n  navList: document.querySelector(\".nav-list\"),\n  navHome: document.querySelector(\".nav-home\"),\n  navPsychologists: document.querySelector(\".nav-psychologist\"),\n  navFavorites: document.querySelector(\".nav-favorites\"),\n  pageFavorites: document.querySelector(\".nav-list-item-favorites\"),\n  sortPsichologs: document.querySelector(\".sort-psichologs\"),\n  customSelectTrigger: document.querySelector(\".custom-select-trigger\"),\n  customOption: document.querySelectorAll(\".custom-option\"),\n  customSelect: document.querySelector(\".custom-select\"),\n  paginationBtn: document.querySelector(\".pagination-prev\"),\n  customSelect: document.querySelector(\".custom-select\"),\n  customSelectTrigger: document.querySelector(\".custom-select-trigger\"),\n  customOption: document.querySelectorAll(\".custom-option\"),\n  loaderWraper:document.querySelector(\".loader-wrapper\"),\n  card:document.querySelector(\".psicholog-list-item\"),\n  cardFavoriteBtn:document.querySelectorAll(\".psicholog-favorite-btn\")\n};\n\n\nexport default refs;\n","import { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\n  databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\n  appId: import.meta.env.VITE_FIREBASE_APP_ID,\n  measurementId: import.meta.env.VITE_FIREBASE_MEASUREMENT_ID\n};\n\nconst app = initializeApp(firebaseConfig);\n\nconst auth = getAuth(app);\n\nexport { app, auth };\n\n\n","import {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  updateProfile,\n  signOut,\n} from \"firebase/auth\";\nimport { auth } from \"./firebase\";\nimport refs from \"./refs\";\nimport {\n  doc,\n  setDoc,\n  getFirestore,\n  updateDoc,\n  arrayUnion,\n  getDoc,\n  deleteDoc,\n} from \"firebase/firestore\";\n\nconst register = async (email, password, displayName) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    const user = userCredential.user;\n    await updateProfile(user, {\n      displayName: displayName,\n    });\n    console.log(\"User registered and profile updated:\", user);\n    return user;\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error(`Error ${errorCode}: ${errorMessage}`);\n    throw error;\n  }\n};\n\nconst login = async (email, password) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(\n      auth,\n      email,\n      password\n    );\n    console.log(\"Пользователь вошел в систему:\", userCredential.user);\n    return userCredential.user;\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error(`Ошибка ${errorCode}: ${errorMessage}`);\n    throw error;\n  }\n};\n\nconst db = getFirestore();\n\nconst updateProfileUserCard = async (docId) => {\n  try {\n    const user = auth.currentUser;\n    if (user) {\n      const userId = user.uid;\n\n      const sourceDocRef = doc(db, \"psychologists\", docId);\n      const docSnapshot = await getDoc(sourceDocRef);\n\n      if (docSnapshot.exists()) {\n        const data = docSnapshot.data();\n\n        const profileWithId = {\n          ...data,\n          id: docId,\n        };\n\n        const targetDocRef = doc(db, \"users\", userId, \"profiles\", docId);\n\n        await setDoc(targetDocRef, profileWithId);\n        console.log(\"Объект успешно добавлен в профиль пользователя.\");\n      } else {\n        console.log(\"Документ не найден.\");\n      }\n    } else {\n      console.log(\"Пользователь не авторизован.\");\n    }\n  } catch (error) {\n    console.error(\"Ошибка обновления профиля:\", error);\n  }\n};\nconst updateProfileUserCardDell = async (docId) => {\n  try {\n    const user = auth.currentUser;\n    if (user) {\n      const userId = user.uid;\n      const targetDocRef = doc(db, \"users\", userId, \"profiles\", docId);\n      await deleteDoc(targetDocRef);\n      console.log(\"Документ успешно удалён из профиля пользователя.\");\n    } else {\n      console.log(\"Пользователь не авторизован.\");\n    }\n  } catch (error) {\n    console.error(\"Ошибка удаления профиля:\", error);\n  }\n};\n\nconst signOutUser = () => {\n  signOut(auth)\n    .then(() => {\n      console.log(\"signOut\");\n    })\n    .catch((error) => {\n      console.error(\"Sign out error:\", error);\n    });\n};\n\nconst monitorAuthState = (updateUI) => {\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      const uid = user.displayName;\n      updateUI(user);\n    } else {\n      updateUI(null);\n    }\n  });\n};\n\nif (refs.signOutBtn) {\n  refs.signOutBtn.addEventListener(\"click\", () => {\n    signOutUser();\n  });\n}\n\nexport const userName = (user) => {\n  if (user) {\n    if (user.displayName) {\n      refs.userInfo.style.display = \"flex\";\n      refs.userName.textContent = user.displayName;\n      refs.authBtn.classList.add(\"is-hidden\");\n      refs.pageFavorites.classList.remove(\"is-hidden\");\n    } else {\n      return;\n    }\n  } else {\n    refs.userInfo.style.display = \"none\";\n    refs.userName.textContent = \"\";\n    refs.authBtn.classList.remove(\"is-hidden-modal\");\n    refs.authBtn.classList.remove(\"is-hidden\");\n    refs.pageFavorites.classList.add(\"is-hidden\");\n  }\n};\nmonitorAuthState(userName);\n\nexport {\n  register,\n  login,\n  monitorAuthState,\n  signOutUser,\n  updateProfileUserCard,\n  updateProfileUserCardDell,\n};\n","import { login, monitorAuthState, register, userName } from \"./auth\";\nimport refs from \"./refs\";\n\nconst handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      closeAllModals();\n    }\n  };\n  \n  const openModal = (modal) => {\n    modal.classList.remove(\"is-hidden-modal\");\n    refs.backgroundModal.classList.remove(\"is-hidden-modal\");\n    document.addEventListener(\"keydown\", handleKeyDown);\n  };\n  \n  const closeModal = (modal) => {\n    modal.classList.add(\"is-hidden-modal\");\n    refs.backgroundModal.classList.add(\"is-hidden-modal\");\n    document.removeEventListener(\"keydown\", handleKeyDown);\n    monitorAuthState(userName);\n  };\n  const closeAllModals = () => {\n    closeModal(refs.formLoginModal);\n    closeModal(refs.formRegisterModal);\n  };\n  if (refs.formLoginOpen) {\n    refs.formLoginOpen.addEventListener(\"click\", () => {\n      openModal(refs.formLoginModal);\n    });\n  }\n  \n  if (refs.formLoginCloseBtn) {\n    refs.formLoginCloseBtn.addEventListener(\"click\", () => {\n      closeModal(refs.formLoginModal);\n    });\n  }\n  \n  if (refs.formRegisterOpen) {\n    refs.formRegisterOpen.addEventListener(\"click\", () => {\n      openModal(refs.formRegisterModal);\n    });\n  }\n  \n  if (refs.formRegisterCloseBtn) {\n    refs.formRegisterCloseBtn.addEventListener(\"click\", () => {\n      closeModal(refs.formRegisterModal);\n    });\n  }\n  \n  if (refs.backgroundModal) {\n    refs.backgroundModal.addEventListener(\"click\", (event) => {\n      if (event.target === refs.backgroundModal) {\n        closeModal(refs.formLoginModal);\n        closeModal(refs.formRegisterModal);\n      }\n    });\n  }\n  \n  if (refs.formRegister) {\n    refs.formRegister.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const email = refs.registerEmailInput.value;\n      const password = refs.registerPasswordInput.value;\n      const name = refs.registerNameInput.value;\n      try {\n        await register(email, password, name);\n\n        closeModal(refs.formRegisterModal);\n      } catch (error) {\n        alert(\"Registration failed\");\n        console.error(\"Registration failed:\", error);\n      }\n    });\n  }\n  \n  if (refs.formLogin) {\n    refs.formLogin.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const email = refs.loginEmailInput.value;\n      const password = refs.loginPasswordInput.value;\n      try {\n        await login(email, password);\n        closeModal(refs.formLoginModal);\n      } catch (error) {\n        alert(\"Login failed\");\n        console.error(\"Login failed:\", error);\n      }\n    });\n  }","export default \"data:image/svg+xml,%3csvg%20width='26.000000'%20height='26.000000'%20viewBox='0%200%2026%2026'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdesc%3e%20Created%20with%20Pixso.%20%3c/desc%3e%3cdefs%3e%3cclipPath%20id='clip41_352'%3e%3crect%20id='heart'%20rx='0.000000'%20width='25.000000'%20height='25.000000'%20transform='translate(0.500000%200.500000)'%20fill='white'%20fill-opacity='0'/%3e%3c/clipPath%3e%3c/defs%3e%3crect%20id='heart'%20rx='0.000000'%20width='25.000000'%20height='25.000000'%20transform='translate(0.500000%200.500000)'%20fill='%23FFFFFF'%20fill-opacity='0'/%3e%3cg%20clip-path='url(%23clip41_352)'%3e%3cpath%20id='Vector'%20d='M20.64%203.7C19.92%203.4%2019.14%203.24%2018.36%203.24C17.57%203.24%2016.8%203.4%2016.08%203.7C15.35%204%2014.7%204.44%2014.14%204.99L13%206.14L11.85%204.99C10.73%203.87%209.21%203.24%207.63%203.24C6.05%203.24%204.54%203.87%203.42%204.99C2.3%206.11%201.67%207.62%201.67%209.2C1.67%2010.78%202.3%2012.3%203.42%2013.42L4.57%2014.57L13%2022.99L21.42%2014.57L22.57%2013.42C23.13%2012.86%2023.56%2012.21%2023.86%2011.48C24.16%2010.76%2024.32%209.99%2024.32%209.2C24.32%208.42%2024.16%207.65%2023.86%206.92C23.56%206.2%2023.13%205.54%2022.57%204.99C22.02%204.44%2021.36%204%2020.64%203.7Z'%20stroke='%23191A15'%20stroke-opacity='1.000000'%20stroke-width='2.000000'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3csvg%20width='26.000000'%20height='26.000000'%20viewBox='0%200%2024.645%2021.7512'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdesc%3e%20Created%20with%20Pixso.%20%3c/desc%3e%3cdefs/%3e%3cpath%20id='Vector'%20d='M21.89%202.74C21.34%202.19%2020.68%201.75%2019.96%201.45C19.24%201.15%2018.46%201%2017.68%201C16.9%201%2016.12%201.15%2015.4%201.45C14.68%201.75%2014.02%202.19%2013.47%202.74L12.32%203.89L11.17%202.74C10.05%201.62%208.54%201%206.95%201C5.37%201%203.86%201.62%202.74%202.74C1.62%203.86%201%205.37%201%206.96C1%208.54%201.62%2010.05%202.74%2011.17L3.89%2012.32L12.32%2020.75L20.75%2012.32L21.89%2011.17C22.45%2010.62%2022.89%209.96%2023.19%209.24C23.49%208.51%2023.64%207.74%2023.64%206.96C23.64%206.17%2023.49%205.4%2023.19%204.67C22.89%203.95%2022.45%203.29%2021.89%202.74Z'%20fill='%2354BE96'%20fill-opacity='1.000000'%20fill-rule='nonzero'/%3e%3cpath%20id='Vector'%20d='M19.96%201.45C19.24%201.15%2018.46%201%2017.68%201C16.9%201%2016.12%201.15%2015.4%201.45C14.68%201.75%2014.02%202.19%2013.47%202.74L12.32%203.89L11.17%202.74C10.05%201.62%208.54%201%206.95%201C5.37%201%203.86%201.62%202.74%202.74C1.62%203.86%201%205.37%201%206.96C1%208.54%201.62%2010.05%202.74%2011.17L3.89%2012.32L12.32%2020.75L20.75%2012.32L21.89%2011.17C22.45%2010.62%2022.89%209.96%2023.19%209.24C23.49%208.51%2023.64%207.74%2023.64%206.96C23.64%206.17%2023.49%205.4%2023.19%204.67C22.89%203.95%2022.45%203.29%2021.89%202.74C21.34%202.19%2020.68%201.75%2019.96%201.45Z'%20stroke='%2354BE96'%20stroke-opacity='1.000000'%20stroke-width='2.000000'%20stroke-linejoin='round'/%3e%3c/svg%3e\"","import {\n  collection,\n  getDocs,\n  getFirestore,\n  query,\n  orderBy,\n  limit,\n  startAfter,\n} from \"firebase/firestore\";\nimport refs from \"./refs\";\nimport { updateProfileUserCard, updateProfileUserCardDell } from \"./auth\";\nimport heart from \"../img/heart.svg\";\nimport heartFavorite from \"../img/heart-favorite.svg\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport { auth } from \"./firebase\";\n\nif (window.location.pathname === \"/psychologists.services/psychologists.html\") {\n  const db = getFirestore();\n\n  const paginationState = {\n    field: \"name\",\n    order: \"asc\",\n    limit: 3,\n    lastVisibleDoc: null,\n    isPaginationFinished: false,\n  };\n\n  let allDataArray = [];\n  let favoriteitem = [];\n\n  const hideLoadingIndicator = () => {\n    refs.paginationBtn.classList.remove(\"is-hidden\");\n    refs.loaderWraper.classList.add(\"is-hidden\");\n  };\n\n  const loading = () => {\n    refs.paginationBtn.classList.add(\"is-hidden\");\n    refs.loaderWraper.classList.remove(\"is-hidden\");\n  };\n\n  const getData = async () => {\n    try {\n      loading();\n      if (paginationState.isPaginationFinished) return;\n\n      const q = paginationState.lastVisibleDoc\n        ? query(\n            collection(db, \"psychologists\"),\n            orderBy(paginationState.field, paginationState.order),\n            startAfter(paginationState.lastVisibleDoc),\n            limit(paginationState.limit)\n          )\n        : query(\n            collection(db, \"psychologists\"),\n            orderBy(paginationState.field, paginationState.order),\n            limit(paginationState.limit)\n          );\n\n      const querySnapshot = await getDocs(q);\n\n      if (querySnapshot.size === 0) {\n        paginationState.isPaginationFinished = true;\n      } else {\n        paginationState.lastVisibleDoc =\n          querySnapshot.docs[querySnapshot.docs.length - 1];\n        const dataArray = querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n\n        allDataArray = allDataArray.concat(dataArray);\n        await getDataFavorite(auth.currentUser); \n        handleCardRender(allDataArray);\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      hideLoadingIndicator();\n    }\n  };\n\n  const getDataFavorite = async (user) => {\n    try {\n      if (!user) {\n        console.error(\"User is not authenticated.\");\n        return;\n      }\n      const q = query(collection(db, \"users\", user.uid, \"profiles\"));\n      const querySnapshot = await getDocs(q);\n      favoriteitem = querySnapshot.docs.map((doc) => doc.id);\n      console.log(\"Favorites fetched:\", favoriteitem);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  };\n\n  const handleCardRender = (data) => {\n    const card = document.querySelector(\".psicholog-list\");\n    card.innerHTML = \"\";\n\n    data.map((el) => {\n      const isFavorites = favoriteitem.includes(el.id);\n\n      const listItem = document.createElement(\"li\");\n\n      listItem.dataset.id = el.id;\n      listItem.classList.add(\"psicholog-list-item\");\n\n      listItem.innerHTML = `\n      <div>\n        <img src=\"${el.avatar_url}\" alt=\"psychologist\" class=\"psicholog-img\" width=\"96px\" height=\"96px\">\n      </div>\n      <div class=\"psicholog-info\">\n        <p class=\"psicholog-title\">Psychologist</p>\n        <h3 class=\"psicholog-name\">${el.name}</h3>\n        <ul class=\"psicholog-specialization\">\n          <li class=\"psicholog-specialization-item\">Experience: <span>${el.experience}</span></li>\n          <li class=\"psicholog-specialization-item\">License: <span>${el.license}</span></li>\n          <li class=\"psicholog-specialization-item\">Specialization: <span>${el.specialization}</span></li>\n          <li class=\"psicholog-specialization-item\">Initial consultation: <span>${el.initial_consultation}</span></li>\n        </ul>\n        <p class=\"psicholog-description\">${el.about}</p>\n        <button class=\"psicholog-btn\">Read more</button>\n        <div class=\"psicholog-rating-price-wrapper\">\n          <div class=\"psicholog-rating\">Rating: <span>${el.rating}</span></div>\n          <div class=\"psicholog-rating-line\"></div>\n          <div class=\"psicholog-price\">Price / 1 hour: <span>${el.price_per_hour}</span></div>\n          <button><img class=\"psicholog-favorite-btn\" src=\"${isFavorites ? heartFavorite : heart}\" alt=\"favorite\" ></button>\n        </div>\n      </div>\n    `;\n\n      listItem.querySelector(\".psicholog-btn\").addEventListener(\"click\", () => {});\n\n      listItem.querySelector(\".psicholog-favorite-btn\").addEventListener(\"click\", (i) => {\n        const currentSrc = i.target.src;\n        if (currentSrc.includes(heart)) {\n          i.target.src = heartFavorite;\n          updateProfileUserCard(el.id);\n        } else {\n          i.target.src = heart;\n          updateProfileUserCardDell(el.id);\n        }\n      });\n\n      card.appendChild(listItem);\n    });\n  };\n\n  const sortPsichologsValue = (value) => {\n    const sortOptions = {\n      \"a-z\": { field: \"name\", order: \"asc\" },\n      \"z-a\": { field: \"name\", order: \"desc\" },\n      \"less-than-10\": { field: \"price_per_hour\", order: \"asc\" },\n      \"greater-than-10\": { field: \"price_per_hour\", order: \"desc\" },\n      popular: { field: \"rating\", order: \"desc\" },\n      \"not-popular\": { field: \"rating\", order: \"asc\" },\n    };\n\n    if (sortOptions[value]) {\n      const { field, order } = sortOptions[value];\n\n      paginationState.field = field;\n      paginationState.order = order;\n      paginationState.lastVisibleDoc = null;\n      paginationState.isPaginationFinished = false;\n\n      allDataArray = [];\n      getData();\n    }\n  };\n\n  if (refs.customSelectTrigger) {\n    refs.customSelectTrigger.addEventListener(\"click\", function () {\n      refs.customSelect.classList.toggle(\"open\");\n    });\n\n    refs.customOption.forEach((option) => {\n      option.addEventListener(\"click\", function () {\n        refs.customSelectTrigger.textContent = this.textContent;\n        refs.customOption.forEach((opt) =>\n          opt.classList.remove(\"custom-select-active\")\n        );\n        this.classList.add(\"custom-select-active\");\n        sortPsichologsValue(this.dataset.value);\n        refs.customSelect.classList.remove(\"open\");\n      });\n    });\n\n    document.addEventListener(\"click\", (e) => {\n      if (!refs.customSelect.contains(e.target)) {\n        refs.customSelect.classList.remove(\"open\");\n      }\n    });\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    if (refs.paginationBtn) {\n      refs.paginationBtn.addEventListener(\"click\", () => {\n        if (paginationState.isPaginationFinished) {\n          refs.paginationBtn.classList.add(\"is-hidden\");\n          return;\n        }\n        getData();\n      });\n    }\n  });\n\n  onAuthStateChanged(auth, (user) => {\n    if (user) {\n      getDataFavorite(user).then(() => {\n        getData();\n      });\n    } else {\n      getData(); \n    }\n  });\n}\n","import { collection, getDocs, getFirestore, query, orderBy, limit, startAfter } from \"firebase/firestore\";\nimport refs from \"./refs\";\nimport { updateProfileUserCard, updateProfileUserCardDell } from \"./auth\";\nimport { auth } from \"./firebase\";\nimport { onAuthStateChanged } from \"firebase/auth\";\nimport heart from \"../img/heart.svg\";\nimport heartFavorite from '../img/heart-favorite.svg';\n\nconst db = getFirestore();\n\nif (window.location.pathname === \"/psychologists.services/favorites.html\") {\n\n  const paginationState = {\n    field: \"name\",\n    order: \"asc\",\n    limit: 3,\n    lastVisibleDoc: null,\n    isPaginationFinished: false,\n  };\n\n  let allDataArray = [];\n\n  const hideLoadingIndicator = () => {\n    refs.loaderWraper.classList.add(\"is-hidden\");\n  };\n\n  const showLoadingIndicator = () => {\n    refs.loaderWraper.classList.remove(\"is-hidden\");\n  };\n\n  const getDataFavorite = async (user) => {\n    try {\n      showLoadingIndicator();\n      if (paginationState.isPaginationFinished) return;\n      if (!user) {\n        console.error(\"User is not authenticated.\");\n        return;\n      }\n      const q = paginationState.lastVisibleDoc\n        ? query(\n            collection(db, \"users\", user.uid, \"profiles\"),\n            orderBy(paginationState.field, paginationState.order),\n            startAfter(paginationState.lastVisibleDoc),\n            limit(paginationState.limit)\n          )\n        : query(\n            collection(db, \"users\", user.uid, \"profiles\"),\n            orderBy(paginationState.field, paginationState.order),\n            limit(paginationState.limit)\n          );\n  \n      const querySnapshot = await getDocs(q);\n      if (querySnapshot.size === 0) {\n        paginationState.isPaginationFinished = true;\n        refs.paginationBtn.classList.add(\"is-hidden\");\n      } else {\n        paginationState.lastVisibleDoc = querySnapshot.docs[querySnapshot.docs.length - 1];\n        const dataArray = querySnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n        allDataArray = allDataArray.concat(dataArray);\n        handleCardRender(allDataArray);\n        \n        // Check if allDataArray is empty after rendering\n        if (allDataArray.length === 0) {\n          refs.paginationBtn.classList.add(\"is-hidden\");\n        } else {\n          refs.paginationBtn.classList.remove(\"is-hidden\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      hideLoadingIndicator();\n    }\n  };\n  \n\n  const handleCardRender = (data) => {\n    const card = document.querySelector(\".psicholog-list\");\n    card.innerHTML = \"\";\n    const isFavorites = true;\n\n    data.forEach((el) => {\n        const listItem = document.createElement(\"li\");\n        listItem.dataset.id = el.id; \n        listItem.classList.add(\"psicholog-list-item\");\n        listItem.innerHTML = `\n            <div>\n                <img src=\"${el.avatar_url}\" alt=\"psychologist\" class=\"psicholog-img\" width=\"96px\" height=\"96px\">\n            </div>\n            <div class=\"psicholog-info\">\n                <p class=\"psicholog-title\">Psychologist</p>\n                <h3 class=\"psicholog-name\">${el.name}</h3>\n                <ul class=\"psicholog-specialization\">\n                    <li class=\"psicholog-specialization-item\">Experience: <span>${el.experience}</span></li>\n                    <li class=\"psicholog-specialization-item\">License: <span>${el.license}</span></li>\n                    <li class=\"psicholog-specialization-item\">Specialization: <span>${el.specialization}</span></li>\n                    <li class=\"psicholog-specialization-item\">Initial consultation: <span>${el.initial_consultation}</span></li>\n                </ul>\n                <p class=\"psicholog-description\">${el.about}</p>\n                <button class=\"psicholog-btn\">Read more</button>\n                <div class=\"psicholog-rating-price-wrapper\">\n                    <div class=\"psicholog-rating\">Rating: <span>${el.rating}</span></div>\n                    <div class=\"psicholog-rating-line\"></div>\n                    <div class=\"psicholog-price\">Price / 1 hour: <span>${el.price_per_hour}</span></div>\n                    <button><img class=\"psicholog-favorite-btn\" src=\"${isFavorites ? heartFavorite : heart}\" alt=\"favorite\"></button>\n                </div>\n            </div>\n        `;\n\n        listItem.querySelector(\".psicholog-btn\").addEventListener(\"click\", (e) => {\n          const cardWrapper = listItem.querySelector(\".psicholog-info\");\n          const reviewsElementId = 'reviews-list'; \n          let divelement = cardWrapper.querySelector(`#${reviewsElementId}`);\n          \n          if (divelement) {\n              divelement.remove();\n          } else {\n           \n              divelement = document.createElement(\"ul\");\n              divelement.id = reviewsElementId;\n              \n              if (el.reviews && el.reviews.length > 0) {\n                  el.reviews.forEach((review, index) => {\n                      if (index < 2) {\n                          divelement.innerHTML += `\n                          <li class=\"profile-reviewer-item\">\n                              <div class=\"profile-reviewer-info-wrapper\">\n                                  <div class=\"profile-reviewer-img\">${review.reviewer[0]}</div>\n                                  <div class=\"profile-reviewer-info\">\n                                      <h4 class=\"reviews-reviewer\">${review.reviewer}</h4>\n                                      <p class=\"reviews-rating\">${review.rating}</p>\n                                  </div>\n                              </div>\n                              <p class=\"reviews-comment\">${review.comment}</p>\n                          </li>\n                          `;\n                      }\n                  });\n              }\n              \n              cardWrapper.appendChild(divelement);\n          }\n      });\n      \n\n\n        listItem.querySelector(\".psicholog-favorite-btn\").addEventListener(\"click\", (i) => {\n            i.target.src = heart;\n            const cardItem = i.target.closest('li');\n            if (cardItem) { cardItem.remove(); } \n            updateProfileUserCardDell(el.id);\n        });\n\n        card.appendChild(listItem);\n    });\n};\n\n\n\n\n\n  const sortPsichologsValue = (value) => {\n    const sortOptions = {\n      \"a-z\": { field: \"name\", order: \"asc\" },\n      \"z-a\": { field: \"name\", order: \"desc\" },\n      \"less-than-10\": { field: \"price_per_hour\", order: \"asc\" },\n      \"greater-than-10\": { field: \"price_per_hour\", order: \"desc\" },\n      popular: { field: \"rating\", order: \"desc\" },\n      \"not-popular\": { field: \"rating\", order: \"asc\" },\n    };\n\n    if (sortOptions[value]) {\n      const { field, order } = sortOptions[value];\n      paginationState.field = field;\n      paginationState.order = order;\n      paginationState.lastVisibleDoc = null;\n      paginationState.isPaginationFinished = false;\n      allDataArray = [];\n      getDataFavorite(auth.currentUser);\n    }\n  };\n\n  if (refs.customSelectTrigger) {\n    refs.customSelectTrigger.addEventListener(\"click\", () => {\n      refs.customSelect.classList.toggle(\"open\");\n    });\n\n    refs.customOption.forEach((option) => {\n      option.addEventListener(\"click\", function () {\n        refs.customSelectTrigger.textContent = this.textContent;\n        refs.customOption.forEach((opt) => opt.classList.remove(\"custom-select-active\"));\n        this.classList.add(\"custom-select-active\");\n        sortPsichologsValue(this.dataset.value);\n        refs.customSelect.classList.remove(\"open\");\n      });\n    });\n\n    document.addEventListener(\"click\", (e) => {\n      if (!refs.customSelect.contains(e.target)) {\n        refs.customSelect.classList.remove(\"open\");\n      }\n    });\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    if (refs.paginationBtn) {\n      refs.paginationBtn.addEventListener(\"click\", () => {\n        if (paginationState.isPaginationFinished) {\n          refs.paginationBtn.classList.add(\"is-hidden\");\n          return;\n        }\n        getDataFavorite(auth.currentUser);\n      });\n    }\n  \n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        getDataFavorite(user);\n      }\n    });\n  });\n}\n","import refs from \"./js/refs\";\nimport \"./js/modal\"\nimport \"./js/psycholog-sort\"\nimport \"./js/favorite\"\n\nswitch (window.location.pathname) {\n  case \"/psychologists.services/index.html\":\n    refs.navHome.classList.add(\"nav-list-item-active\");\n    break;\n\n  case \"/psychologists.services/psychologists.html\":\n    refs.navPsychologists.classList.add(\"nav-list-item-active\");\n    break;\n\n  case \"/psychologists.services/favorites.html\":\n    refs.navFavorites.classList.add(\"nav-list-item-active\");\n    break;\n\n  default:\n    break;\n}\n"],"names":["refs","firebaseConfig","app","initializeApp","auth","getAuth","register","email","password","displayName","user","createUserWithEmailAndPassword","updateProfile","error","errorCode","errorMessage","login","userCredential","signInWithEmailAndPassword","db","getFirestore","updateProfileUserCard","docId","userId","sourceDocRef","doc","docSnapshot","getDoc","profileWithId","targetDocRef","setDoc","updateProfileUserCardDell","deleteDoc","signOutUser","signOut","monitorAuthState","updateUI","onAuthStateChanged","userName","handleKeyDown","e","closeAllModals","openModal","modal","closeModal","event","name","heart","heartFavorite","paginationState","allDataArray","favoriteitem","hideLoadingIndicator","loading","getData","q","query","collection","orderBy","startAfter","limit","querySnapshot","getDocs","dataArray","getDataFavorite","handleCardRender","data","card","el","isFavorites","listItem","i","sortPsichologsValue","value","sortOptions","field","order","option","opt","showLoadingIndicator","cardWrapper","reviewsElementId","divelement","review","index","cardItem"],"mappings":"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"}