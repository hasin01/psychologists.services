{"version":3,"file":"main-fhzOjTGX.js","sources":["../../src/js/firebase.js","../../src/js/refs.js","../../src/js/auth.js","../../src/js/modal.js","../../src/main.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: import.meta.env.VITE_FIREBASE_API_KEY,\n  authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,\n  databaseURL: import.meta.env.VITE_FIREBASE_DATABASE_URL,\n  projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,\n  storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,\n  appId: import.meta.env.VITE_FIREBASE_APP_ID,\n  measurementId: import.meta.env.VITE_FIREBASE_MEASUREMENT_ID\n};\n\nconst app = initializeApp(firebaseConfig);\n\nconst auth = getAuth(app);\n\nexport { app, auth };\n\n\n","const refs = {\n  backgroundModal: document.querySelector(\".modal\"),\n  formLoginModal: document.querySelector(\".form-login-modal\"),\n  formLoginCloseBtn: document.querySelector(\".form-login-close-btn\"),\n  formLoginOpen: document.querySelector(\".auth-item-login\"),\n  formRegisterOpen: document.querySelector(\".auth-item-register\"),\n  formRegisterModal: document.querySelector(\".form-register-modal\"),\n  formRegisterCloseBtn: document.querySelector(\".form-register-close-btn\"),\n  formRegister: document.querySelector(\".form-registration\"),\n  formLogin: document.querySelector(\".form-login\"),\n  registerNameInput: document.querySelector(\".form-name-input-register-js\"),\n  registerEmailInput: document.querySelector(\".form-email-input-register-js\"),\n  registerPasswordInput: document.querySelector(\n    \".form-password-input-register-js\"\n  ),\n  loginEmailInput: document.querySelector(\".form-email-input-login-js\"),\n  loginPasswordInput: document.querySelector(\".form-password-input-login-js\"),\n  authBtn: document.querySelector(\".auth-wrapper\"),\n  userInfo: document.querySelector(\".user-info\"),\n  userName: document.querySelector(\".user-name\"),\n  signOutBtn: document.querySelector(\".user-logout\"),\n  navList: document.querySelector(\".nav-list\"),\n  navHome: document.querySelector(\".nav-home\"),\n  navPsychologists: document.querySelector(\".nav-psychologist\"),\n  navFavorites: document.querySelector(\".nav-favorites\"),\n  pageFavorites: document.querySelector(\".nav-list-item-favorites\"),\n  sortPsichologs: document.querySelector(\".sort-psichologs\"),\n  customSelectTrigger: document.querySelector(\".custom-select-trigger\"),\n  customOption: document.querySelectorAll(\".custom-option\"),\n  customSelect: document.querySelector(\".custom-select\"),\n};\n\nexport default refs;\n","import { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, updateProfile, signOut } from \"firebase/auth\";\nimport { auth } from \"./firebase\";\nimport refs from \"./refs\";\n\nconst register = async (email, password, displayName) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    const user = userCredential.user;\n    await updateProfile(user, {\n      displayName: displayName\n    });\n    console.log(\"User registered and profile updated:\", user);\n    return user;\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error(`Error ${errorCode}: ${errorMessage}`);\n    throw error;\n  }\n};\n\nconst login = async (email, password) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    return userCredential.user;\n  } catch (error) {\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    console.error(`Error ${errorCode}: ${errorMessage}`);\n    throw error;\n  }\n};\n\nconst signOutUser = () => {\n  signOut(auth).then(() => {\n    console.log(\"signOut\");\n  }).catch((error) => {\n    console.error(\"Sign out error:\", error);\n  });\n};\n\nconst monitorAuthState =  (updateUI) => {\n onAuthStateChanged(auth, (user) => {\n    if (user) {\n      const uid = user.displayName;\n      updateUI(user);\n    } else {\n      updateUI(null);\n    }\n  });\n};\n\n\nif (refs.signOutBtn) {\n  refs.signOutBtn.addEventListener(\"click\", () => {\n    signOutUser();\n  });\n}\n\n\n\n\nexport const userName = (user) => {\n  if (user) {\n    if (user.displayName) {\n      refs.userInfo.style.display = \"flex\";\n      refs.userName.textContent = user.displayName;\n      refs.authBtn.classList.add(\"is-hidden\");\n      refs.pageFavorites.classList.remove(\"is-hidden\");\n    } else {\n      return;\n    }\n  } else {\n    refs.userInfo.style.display = \"none\";\n    refs.userName.textContent = \"\";\n    refs.authBtn.classList.remove(\"is-hidden-modal\");\n    refs.authBtn.classList.remove(\"is-hidden\");\n    refs.pageFavorites.classList.add(\"is-hidden\");\n  }\n};\nmonitorAuthState(userName);\n\n\nexport { register, login, monitorAuthState, signOutUser };\n","import { login, monitorAuthState, register, userName } from \"./auth\";\nimport refs from \"./refs\";\n\nconst handleKeyDown = (e) => {\n    if (e.keyCode === 27) {\n      closeAllModals();\n    }\n  };\n  \n  const openModal = (modal) => {\n    modal.classList.remove(\"is-hidden-modal\");\n    refs.backgroundModal.classList.remove(\"is-hidden-modal\");\n    document.addEventListener(\"keydown\", handleKeyDown);\n  };\n  \n  const closeModal = (modal) => {\n    modal.classList.add(\"is-hidden-modal\");\n    refs.backgroundModal.classList.add(\"is-hidden-modal\");\n    document.removeEventListener(\"keydown\", handleKeyDown);\n    monitorAuthState(userName);\n  };\n  const closeAllModals = () => {\n    closeModal(refs.formLoginModal);\n    closeModal(refs.formRegisterModal);\n  };\n  if (refs.formLoginOpen) {\n    refs.formLoginOpen.addEventListener(\"click\", () => {\n      openModal(refs.formLoginModal);\n    });\n  }\n  \n  if (refs.formLoginCloseBtn) {\n    refs.formLoginCloseBtn.addEventListener(\"click\", () => {\n      closeModal(refs.formLoginModal);\n    });\n  }\n  \n  if (refs.formRegisterOpen) {\n    refs.formRegisterOpen.addEventListener(\"click\", () => {\n      openModal(refs.formRegisterModal);\n    });\n  }\n  \n  if (refs.formRegisterCloseBtn) {\n    refs.formRegisterCloseBtn.addEventListener(\"click\", () => {\n      closeModal(refs.formRegisterModal);\n    });\n  }\n  \n  if (refs.backgroundModal) {\n    refs.backgroundModal.addEventListener(\"click\", (event) => {\n      if (event.target === refs.backgroundModal) {\n        closeModal(refs.formLoginModal);\n        closeModal(refs.formRegisterModal);\n      }\n    });\n  }\n  \n  if (refs.formRegister) {\n    refs.formRegister.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const email = refs.registerEmailInput.value;\n      const password = refs.registerPasswordInput.value;\n      const name = refs.registerNameInput.value;\n      try {\n        await register(email, password, name);\n\n        closeModal(refs.formRegisterModal);\n      } catch (error) {\n        alert(\"Registration failed\");\n        console.error(\"Registration failed:\", error);\n      }\n    });\n  }\n  \n  if (refs.formLogin) {\n    refs.formLogin.addEventListener(\"submit\", async (e) => {\n      e.preventDefault();\n      const email = refs.loginEmailInput.value;\n      const password = refs.loginPasswordInput.value;\n      try {\n        await login(email, password);\n        closeModal(refs.formLoginModal);\n      } catch (error) {\n        alert(\"Login failed\");\n        console.error(\"Login failed:\", error);\n      }\n    });\n  }","import {  monitorAuthState, signOutUser } from \"./js/auth\";\nimport refs from \"./js/refs\";\nimport \"./js/modal\"\n\nswitch (window.location.pathname) {\n  case \"/psychologists.services/index.html\":\n    refs.navHome.classList.add(\"nav-list-item-active\");\n    break;\n\n  case \"/psychologists.services/psychologists.html\":\n    refs.navPsychologists.classList.add(\"nav-list-item-active\");\n    break;\n\n  case \"/psychologists.services/favorites.html\":\n    refs.navFavorites.classList.add(\"nav-list-item-active\");\n    break;\n\n  default:\n    break;\n}\n"],"names":["firebaseConfig","app","initializeApp","auth","getAuth","refs","register","email","password","displayName","user","createUserWithEmailAndPassword","updateProfile","error","errorCode","errorMessage","login","signInWithEmailAndPassword","signOutUser","signOut","monitorAuthState","updateUI","onAuthStateChanged","userName","handleKeyDown","e","closeAllModals","openModal","modal","closeModal","event","name"],"mappings":"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"}