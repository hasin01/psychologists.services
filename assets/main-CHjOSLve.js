import{i as p,g as y,a as h,c as L,u as v,s as M,b as S,o as w}from"./vendor-BzXVXbKg.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const I={apiKey:"AIzaSyBtgyesIcDyvFIh-YBM6E33MhgPDKypzII",authDomain:"psychologistsservices.firebaseapp.com",databaseURL:"https://psychologistsservices-default-rtdb.firebaseio.com",projectId:"psychologistsservices",storageBucket:"psychologistsservices.firebasestorage.app",messagingSenderId:"718750248328",appId:"1:718750248328:web:573026e49e9fc425809e3d",measurementId:"G-5J9TZ4E4D9"},d=p(I);y(d);const l=h(d),b=async(r,t,i)=>{try{const o=(await L(l,r,t)).user;return await v(o,{displayName:i}),console.log("User registered and profile updated:",o),o}catch(s){const o=s.code,n=s.message;throw console.error(`Error ${o}: ${n}`),s}},E=async(r,t)=>{try{return(await M(l,r,t)).user}catch(i){const s=i.code,o=i.message;throw console.error(`Error ${s}: ${o}`),i}},q=()=>{S(l).then(()=>{console.log("signOut")}).catch(r=>{console.error("Sign out error:",r)})},u=r=>{w(l,t=>{t?(t.displayName,r(t)):r(null)})},e={backgroundModal:document.querySelector(".modal"),formLoginModal:document.querySelector(".form-login-modal"),formLoginCloseBtn:document.querySelector(".form-login-close-btn"),formLoginOpen:document.querySelector(".auth-item-login"),formRegisterOpen:document.querySelector(".auth-item-register"),formRegisterModal:document.querySelector(".form-register-modal"),formRegisterCloseBtn:document.querySelector(".form-register-close-btn"),formRegister:document.querySelector(".form-registration"),formLogin:document.querySelector(".form-login"),registerNameInput:document.querySelector(".form-name-input-register-js"),registerEmailInput:document.querySelector(".form-email-input-register-js"),registerPasswordInput:document.querySelector(".form-password-input-register-js"),loginEmailInput:document.querySelector(".form-email-input-login-js"),loginPasswordInput:document.querySelector(".form-password-input-login-js"),authBtn:document.querySelector(".auth-wrapper"),userInfo:document.querySelector(".user-info"),userName:document.querySelector(".user-name"),signOutBtn:document.querySelector(".user-logout"),navList:document.querySelector(".nav-list")},m=r=>{r.keyCode===27&&(a(e.formLoginModal),a(e.formRegisterModal))},g=r=>{r.classList.remove("is-hidden-modal"),e.backgroundModal.classList.remove("is-hidden-modal"),document.addEventListener("keydown",m)},a=r=>{r.classList.add("is-hidden-modal"),e.backgroundModal.classList.add("is-hidden-modal"),document.removeEventListener("keydown",m)};e.formLoginOpen&&e.formLoginOpen.addEventListener("click",()=>{g(e.formLoginModal)});e.formLoginCloseBtn&&e.formLoginCloseBtn.addEventListener("click",()=>{a(e.formLoginModal)});e.formRegisterOpen&&e.formRegisterOpen.addEventListener("click",()=>{g(e.formRegisterModal)});e.formRegisterCloseBtn&&e.formRegisterCloseBtn.addEventListener("click",()=>{a(e.formRegisterModal)});e.backgroundModal&&e.backgroundModal.addEventListener("click",r=>{r.target===e.backgroundModal&&(a(e.formLoginModal),a(e.formRegisterModal))});e.formRegister&&e.formRegister.addEventListener("submit",async r=>{r.preventDefault();const t=e.registerEmailInput.value,i=e.registerPasswordInput.value,s=e.registerNameInput.value;try{await b(t,i,s),u(f),a(e.formRegisterModal)}catch(o){alert("Registration failed"),console.error("Registration failed:",o)}});e.formLogin&&e.formLogin.addEventListener("submit",async r=>{r.preventDefault();const t=e.loginEmailInput.value,i=e.loginPasswordInput.value;try{await E(t,i),a(e.formLoginModal)}catch(s){alert("Login failed"),console.error("Login failed:",s)}});const f=r=>{if(r)if(r.displayName)e.userInfo.style.display="flex",e.userName.textContent=r.displayName,e.authBtn.classList.add("is-hidden");else return;else e.userInfo.style.display="none",e.userName.textContent="",e.authBtn.classList.remove("is-hidden")};e.signOutBtn&&e.signOutBtn.addEventListener("click",()=>{q()});u(f);
//# sourceMappingURL=main-CHjOSLve.js.map
